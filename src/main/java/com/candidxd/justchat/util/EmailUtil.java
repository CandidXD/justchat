package com.candidxd.justchat.util;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSenderImpl;import org.springframework.mail.javamail.MimeMessageHelper;import java.io.BufferedReader;import java.io.FileReader;import java.util.Properties;import javax.mail.*;import javax.mail.internet.*;/** * @author yzk * @Title: EmailUtil * @ProjectName demo * @Description: TODO * @date 2018/8/2210:02 */public class EmailUtil {    /**     * QQ服务器     */    private final static String SERVICE_HOST = "smtp.qq.com";    /**     * smtp的端口号     */    private final static int PORT = 465;    /**     * 协议名称 smtp表示简单邮件传输协议     */    private final static String PROTOCOL = "smtp";    /**     * 发送邮件的QQ账号     */    private final static String ACCOUNT = "625052036@qq.com";    /**     * QQ授权码(需要到https://mail.qq.com/申请)     */    private final static String AUTH_CODE = "jwdksaakemnvbdjf";    private static final JavaMailSenderImpl EENDER_IMPL = new JavaMailSenderImpl();    /*     *发送QQ邮件的初始化配置     */    static {        //设置 使用QQ邮箱发送邮件的主机名        EENDER_IMPL.setHost(SERVICE_HOST);        //设置端口号        EENDER_IMPL.setPort(PORT);        //协议名称        EENDER_IMPL.setProtocol(PROTOCOL);        // 设置自己的邮箱帐号名称        EENDER_IMPL.setUsername(ACCOUNT);        // 设置对应账号申请到的授权码        EENDER_IMPL.setPassword(AUTH_CODE);        Properties prop = new Properties();        // 将这个参数设为true，让服务器进行认证,认证用户名和密码是否正确        prop.put(" mail.smtp.auth ", "true");        prop.put("mail.smtp.starttls.enable", "true");        //使用ssl协议来保证连接安全        prop.put("mail.smtp.socketFactory.class", "javax.net.ssl.SSLSocketFactory");        //传输超时时间        prop.put(" mail.smtp.timeout ", "25000");        EENDER_IMPL.setJavaMailProperties(prop);    }    public static void sendMimeMail(String account, String info, String title) throws MessagingException {        //使用MimeMessage来解决编码问题        MimeMessage mailMessage = EENDER_IMPL.createMimeMessage();        MimeMessageHelper helper = new MimeMessageHelper(mailMessage, true, "UTF-8");        //设置邮件接收者账号        helper.setTo(account);        //设置邮件的发送者        helper.setFrom(ACCOUNT);        //设置邮件的主题        helper.setSubject(title);        //设置邮件的内容        helper.setText(info);        //发送邮件        EENDER_IMPL.send(mailMessage);    }}